["^ ","~:rename-macros",["^ "],"~:renames",["^ "],"~:externs",["^ ","~$Math",["^ ","~$exp",["^ "],"~$log",["^ "],"~$pow",["^ "],"~$abs",["^ "],"~$round",["^ "]]],"~:use-macros",["^ ","~$pp","~$cljs.pprint"],"~:excludes",["~#set",[]],"~:name","~$predict.models.predict","~:imports",null,"~:requires",["^ ","^;","^;","~$winton-utils.data-frame","^B"],"~:cljs.spec/speced-vars",[],"~:uses",["^ ","~$pprint","^;","~$map-of-vs->v-of-maps","^B","~$cell-diffs","^B","~$cell-binary-seq","^B","~$cell-sums","^B","~$cell-update","^B","~$cell-binary","^B","~$cell-apply","^B"],"~:defs",["^ ","~$r-base-br",["^ ","~:protocol-inline",null,"~:meta",["^ ","~:file","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","~:line",28,"~:column",7,"~:end-line",28,"~:end-column",16,"~:arglists",["~#list",["~$quote",["^W",[["~$radio?"]]]]],"~:doc","R: r.base.br\n  Base breast cancer mortality coefficient for radiotherapy enabled or disabled."],"^>","~$predict.models.predict/r-base-br","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^U",16,"~:method-params",["^W",[["^Y"]]],"~:protocol-impl",null,"~:arglists-meta",["^W",[null,null]],"^S",1,"~:variadic?",false,"^R",28,"~:ret-tag","~$number","^T",28,"~:max-fixed-arity",1,"~:fn-var",true,"^V",["^W",["^X",["^W",[["^Y"]]]]],"^Z","R: r.base.br\n  Base breast cancer mortality coefficient for radiotherapy enabled or disabled."],"~$detection",["^ ","^O",null,"^P",["^ ","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^R",110,"^S",7,"^T",110,"^U",16,"^V",["^W",["^X",["^W",[["~$d"]]]]]],"^>","~$predict.models.predict/detection","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^U",16,"^10",["^W",[["~$d"]]],"^11",null,"^12",["^W",[null,null]],"^S",1,"^13",false,"^R",110,"^14","~$any","^T",110,"^16",1,"^17",true,"^V",["^W",["^X",["^W",[["~$d"]]]]]],"~$deltas",["^ ","^O",null,"^P",["^ ","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^R",14,"^S",7,"^T",14,"^U",13,"^V",["^W",["^X",["^W",[["~$start","~$v"]]]]]],"^>","~$predict.models.predict/deltas","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^U",13,"^10",["^W",[["^1<","~$v"]]],"^11",null,"^12",["^W",[null,null]],"^S",1,"^13",false,"^R",14,"^14",["^=",[null,"~$clj","^1:"]],"^T",14,"^16",2,"^17",true,"^V",["^W",["^X",["^W",[["^1<","~$v"]]]]]],"~$cljs-predict",["^ ","^O",null,"^P",["^ ","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^R",210,"^S",7,"^T",210,"^U",19,"^V",["^W",["^X",["^W",[[["^ ","~:keys",["~$age","~$size","~$nodes","~$grade","~$erstat","^18","~$her2","~$ki67","~$rtime","^Y","~$bis?","~$chemoGen","~$horm","~$radio","~$bis","~$tra"],"~:as","~$inputs"]]]]]],"^Z","clojure/script implementation of predict-v2 model.\n\n  Predicts survival based on patient input parameters.\n\n  Arguments age, size and nodes are entered as values; the others as lookups\n  # This is how the model assigns some input parameters (or ranges) into variables\n  # i.e. parameter (or ranges) -> web form setting -> Predict model variable setting\n  # Tumour Grade (1,2,3,unknown) -> (1,2,3,9) -> (1.0,2.0,3.0,2.13)\n  # ER Status (-ve,+ve) -> (0,1) -> (0,1) n.b. unknown not allowed\n  # Detection (Clinical,Screening,Other) -> (0,1,2) -> (0.0,1.0,0.204)\n  # HER2 Status (-ve,+ve,unknown) -> (0,1,9)\n  # KI67 Status (-ve,+ve,unknown) -> (0,1,9)\n\n  We are now passing in the selected treatments so we don't have to calculate all possible\n  treatment combinations on each call. Instead, we calculate the treatment combinations that\n  could make up the current set in hrctb order\n\n  This means that if we see non-null horm, chemoGen, bis values, we will calculate\n  h, hc, hb, hcb only.\n\n  Note:\n  For uncertainties in the coefficients h,c,t etc, see docs/Predictv2-uncertainties.docx\n  "],"^>","~$predict.models.predict/cljs-predict","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^U",19,"^10",["^W",[["~$p__53199"]]],"^11",null,"^12",["^W",[null,null]],"^S",1,"^13",false,"^R",210,"^14","~$cljs.core/IMap","^T",210,"^16",1,"^17",true,"^V",["^W",["^X",["^W",[[["^ ","^1@",["^1A","^1B","^1C","^1D","^1E","^18","^1F","^1G","^1H","^Y","^1I","^1J","^1K","^1L","^1M","^1N"],"^1O","^1P"]]]]]],"^Z","clojure/script implementation of predict-v2 model.\n\n  Predicts survival based on patient input parameters.\n\n  Arguments age, size and nodes are entered as values; the others as lookups\n  # This is how the model assigns some input parameters (or ranges) into variables\n  # i.e. parameter (or ranges) -> web form setting -> Predict model variable setting\n  # Tumour Grade (1,2,3,unknown) -> (1,2,3,9) -> (1.0,2.0,3.0,2.13)\n  # ER Status (-ve,+ve) -> (0,1) -> (0,1) n.b. unknown not allowed\n  # Detection (Clinical,Screening,Other) -> (0,1,2) -> (0.0,1.0,0.204)\n  # HER2 Status (-ve,+ve,unknown) -> (0,1,9)\n  # KI67 Status (-ve,+ve,unknown) -> (0,1,9)\n\n  We are now passing in the selected treatments so we don't have to calculate all possible\n  treatment combinations on each call. Instead, we calculate the treatment combinations that\n  could make up the current set in hrctb order\n\n  This means that if we see non-null horm, chemoGen, bis values, we will calculate\n  h, hc, hb, hcb only.\n\n  Note:\n  For uncertainties in the coefficients h,c,t etc, see docs/Predictv2-uncertainties.docx\n  "],"~$ki67-rh",["^ ","^O",null,"^P",["^ ","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^R",123,"^S",7,"^T",123,"^U",14,"^V",["^W",["^X",["^W",[["^1E","^1G"]]]]]],"^>","~$predict.models.predict/ki67-rh","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^U",14,"^10",["^W",[["^1E","^1G"]]],"^11",null,"^12",["^W",[null,null]],"^S",1,"^13",false,"^R",123,"^14","^15","^T",123,"^16",2,"^17",true,"^V",["^W",["^X",["^W",[["^1E","^1G"]]]]]],"^1A",["^ ","^O",null,"^P",["^ ","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^R",108,"^S",7,"^T",108,"^U",10,"^V",["^W",["^X",["^W",[["~$y"]]]]]],"^>","~$predict.models.predict/age","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^U",10,"^10",["^W",[["~$y"]]],"^11",null,"^12",["^W",[null,null]],"^S",1,"^13",false,"^R",108,"^14",["^=",[null,"^15"]],"^T",108,"^16",1,"^17",true,"^V",["^W",["^X",["^W",[["~$y"]]]]]],"~$m-oth-prognostic-index",["^ ","^O",null,"^P",["^ ","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^R",85,"^S",7,"^T",85,"^U",29,"^V",["^W",["^X",["^W",[["^1A","^Y"]]]]]],"^>","~$predict.models.predict/m-oth-prognostic-index","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^U",29,"^10",["^W",[["^1A","^Y"]]],"^11",null,"^12",["^W",[null,null]],"^S",1,"^13",false,"^R",85,"^14","^15","^T",85,"^16",2,"^17",true,"^V",["^W",["^X",["^W",[["^1A","^Y"]]]]]],"~$her2-rh",["^ ","^O",null,"^P",["^ ","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^R",116,"^S",7,"^T",116,"^U",14,"^V",["^W",["^X",["^W",[["^1F"]]]]]],"^>","~$predict.models.predict/her2-rh","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^U",14,"^10",["^W",[["^1F"]]],"^11",null,"^12",["^W",[null,null]],"^S",1,"^13",false,"^R",116,"^14","^15","^T",116,"^16",1,"^17",true,"^V",["^W",["^X",["^W",[["^1F"]]]]]],"~$ln",["^ ","^>","~$predict.models.predict/ln","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^R",10,"^S",1,"^T",10,"^U",8,"^P",["^ ","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^R",10,"^S",6,"^T",10,"^U",8],"~:tag","~$js"],"~$r-oth",["^ ","^O",null,"^P",["^ ","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^R",47,"^S",7,"^T",47,"^U",12,"^V",["^W",["^X",["^W",[["^Y"]]]]]],"^>","~$predict.models.predict/r-oth","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^U",12,"^10",["^W",[["^Y"]]],"^11",null,"^12",["^W",[null,null]],"^S",1,"^13",false,"^R",47,"^14","^15","^T",47,"^16",1,"^17",true,"^V",["^W",["^X",["^W",[["^Y"]]]]]],"~$types-rx",["^ ","^O",null,"^P",["^ ","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^R",144,"^S",7,"^T",144,"^U",15,"^V",["^W",["^X",["^W",[[["^ ","^1@",["^1E","^1F","^1K","^1J","^Y","^1L","^1I","^1M","^1N"]]]]]]],"^Z","Calculate treatment coefficients\n  radio indicates radiotherapy is available in the interface and selected\n  bis indicates bisphosphonates is available in the interface and selected\n  c = chemo, h = hormone therapy, t = trastuzumab, r = radiotherapy, b = bisphosphonates\n\n  Note that we _always_ calculate the same columns, but if a treatment is _not_ selected, then\n  its associated treatment coefficients will be zero.\n\n  e.g. The treatment combination hcb will be calculated as hrctb, but with r and c coefficients zeroed.\n  "],"^>","~$predict.models.predict/types-rx","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^U",15,"^10",["^W",[["~$p__53151"]]],"^11",null,"^12",["^W",[null,null]],"^S",1,"^13",false,"^R",144,"^14","^1S","^T",144,"^16",1,"^17",true,"^V",["^W",["^X",["^W",[[["^ ","^1@",["^1E","^1F","^1K","^1J","^Y","^1L","^1I","^1M","^1N"]]]]]]],"^Z","Calculate treatment coefficients\n  radio indicates radiotherapy is available in the interface and selected\n  bis indicates bisphosphonates is available in the interface and selected\n  c = chemo, h = hormone therapy, t = trastuzumab, r = radiotherapy, b = bisphosphonates\n\n  Note that we _always_ calculate the same columns, but if a treatment is _not_ selected, then\n  its associated treatment coefficients will be zero.\n\n  e.g. The treatment combination hcb will be calculated as hrctb, but with r and c coefficients zeroed.\n  "],"~$r-br",["^ ","^O",null,"^P",["^ ","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^R",42,"^S",7,"^T",42,"^U",11,"^V",["^W",["^X",["^W",[["^Y"]]]]],"^Z","R: r.br breast mortality coefficient for radiotherapy treatment if enabled"],"^>","~$predict.models.predict/r-br","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^U",11,"^10",["^W",[["^Y"]]],"^11",null,"^12",["^W",[null,null]],"^S",1,"^13",false,"^R",42,"^14","^15","^T",42,"^16",1,"^17",true,"^V",["^W",["^X",["^W",[["^Y"]]]]],"^Z","R: r.br breast mortality coefficient for radiotherapy treatment if enabled"],"^6",["^ ","^>","~$predict.models.predict/pow","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^R",11,"^S",1,"^T",11,"^U",9,"^P",["^ ","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^R",11,"^S",6,"^T",11,"^U",9],"^21","^22"],"^4",["^ ","^>","~$predict.models.predict/exp","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^R",9,"^S",1,"^T",9,"^U",9,"^P",["^ ","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^R",9,"^S",6,"^T",9,"^U",9],"^21","^22"],"~$base-m-cum-br",["^ ","^O",null,"^P",["^ ","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^R",89,"^S",7,"^T",89,"^U",20,"^V",["^W",["^X",["^W",[["^1E","~$tm"]]]]],"^Z","baseline survival. Actually baseline-mortality! R: base.m.cum.br"],"^>","~$predict.models.predict/base-m-cum-br","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^U",20,"^10",["^W",[["^1E","^2="]]],"^11",null,"^12",["^W",[null,null]],"^S",1,"^13",false,"^R",89,"^14",["^=",["^1:","^15"]],"^T",89,"^16",2,"^17",true,"^V",["^W",["^X",["^W",[["^1E","^2="]]]]],"^Z","baseline survival. Actually baseline-mortality! R: base.m.cum.br"],"~$rec-age-10-sq",["^ ","^O",null,"^P",["^ ","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^R",18,"^S",7,"^T",18,"^U",20,"^V",["^W",["^X",["^W",[["^1A"]]]]],"^Z","1/(age/10)^2"],"^>","~$predict.models.predict/rec-age-10-sq","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^U",20,"^10",["^W",[["^1A"]]],"^11",null,"^12",["^W",[null,null]],"^S",1,"^13",false,"^R",18,"^14","^1:","^T",18,"^16",1,"^17",true,"^V",["^W",["^X",["^W",[["^1A"]]]]],"^Z","1/(age/10)^2"],"~$grade-a",["^ ","^O",null,"^P",["^ ","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^R",112,"^S",7,"^T",112,"^U",14,"^V",["^W",["^X",["^W",[["^1D"]]]]]],"^>","~$predict.models.predict/grade-a","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^U",14,"^10",["^W",[["^1D"]]],"^11",null,"^12",["^W",[null,null]],"^S",1,"^13",false,"^R",112,"^14","^15","^T",112,"^16",1,"^17",true,"^V",["^W",["^X",["^W",[["^1D"]]]]]],"~$log-age-10",["^ ","^O",null,"^P",["^ ","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^R",23,"^S",7,"^T",23,"^U",17,"^V",["^W",["^X",["^W",[["^1A"]]]]],"^Z","log(age/10)"],"^>","~$predict.models.predict/log-age-10","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^U",17,"^10",["^W",[["^1A"]]],"^11",null,"^12",["^W",[null,null]],"^S",1,"^13",false,"^R",23,"^14","^1:","^T",23,"^16",1,"^17",true,"^V",["^W",["^X",["^W",[["^1A"]]]]],"^Z","log(age/10)"],"^7",["^ ","^>","~$predict.models.predict/abs","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^R",12,"^S",1,"^T",12,"^U",9,"^P",["^ ","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^R",12,"^S",6,"^T",12,"^U",9],"^21","^22"],"~$r-base-oth",["^ ","^O",null,"^P",["^ ","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^R",34,"^S",7,"^T",34,"^U",17,"^V",["^W",["^X",["^W",[["^Y"]]]]],"^Z","R: r.base.oth\n  Base other cause mortality coefficient"],"^>","~$predict.models.predict/r-base-oth","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^U",17,"^10",["^W",[["^Y"]]],"^11",null,"^12",["^W",[null,null]],"^S",1,"^13",false,"^R",34,"^14","^15","^T",34,"^16",1,"^17",true,"^V",["^W",["^X",["^W",[["^Y"]]]]],"^Z","R: r.base.oth\n  Base other cause mortality coefficient"],"~$prognostic-index",["^ ","^O",null,"^P",["^ ","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^R",52,"^S",7,"^T",52,"^U",23,"^V",["^W",["^X",["^W",[[["^ ","^1@",["^1A","^1B","^1C","^1D","^1E","^18","^1Y","^1T","^2A","^Y","^1I"],"~:or",["^ ","^18",0,"^1T",-0.11333,"^1A",65,"^1I",true,"^1Y",-0.0762,"^2A",0,"^Y",true,"^1B",19,"^1C",1,"^1D",1,"^1E",1]]]]]]],"^Z","Calculate the breast cancer mortality prognostic index (pi).\n  Comments relate this code to the corresponding R variables."],"^>","~$predict.models.predict/prognostic-index","^Q","/Users/gmp26/clojure/predict-v21-cljs/src/predict/models/predict.cljs","^U",23,"^10",["^W",[["~$p__53138"]]],"^11",null,"^12",["^W",[null,null]],"^S",1,"^13",false,"^R",52,"^14","^15","^T",52,"^16",1,"^17",true,"^V",["^W",["^X",["^W",[[["^ ","^1@",["^1A","^1B","^1C","^1D","^1E","^18","^1Y","^1T","^2A","^Y","^1I"],"^2I",["^ ","^18",0,"^1T",-0.11333,"^1A",65,"^1I",true,"^1Y",-0.0762,"^2A",0,"^Y",true,"^1B",19,"^1C",1,"^1D",1,"^1E",1]]]]]]],"^Z","Calculate the breast cancer mortality prognostic index (pi).\n  Comments relate this code to the corresponding R variables."]],"~:cljs.spec/registry-ref",[],"~:require-macros",["^ ","^;","^;"],"~:cljs.analyzer/constants",["^ ","~:seen",["^=",["~:r-low","~:h-high","~:r","~:hr","~:ki67-rh","~:b-high","~:bis","~:age","~:benefits2-1","~:hrc-high","~:radio","~:hrct","~:hrctb-high","~:h-low","~:bis?","~:her2-rh","~:hrc-low","~:tra","~:c-low","~:hrct-low","~:ki67","~:hr-low","~:grade-a","~:hrc","~:chemoGen","~:size","~:radio?","~:hrctb-low","~:z","~:c","~:hrct-high","~:hrctb","~:nodes","~:grade","~:h","~:erstat","~:t-high","~:b","~:c-high","~:annual-benefits","~:t","~:hr-high","~:oth","~:b-low","~:t-low","~:rtime","~:her2","~:detection","~:r-high","~:horm"]],"~:order",["^3M","^2S","^2V","^31","^32","^39","^3=","^3<","^3A","^3B","^3C","^3L","^3O","^2U","^2Y","^34","^3;","^2P","^2Q","~:r","^2R","^2T","^2X","^2Z","^2[","^30","^33","^35","^36","^38","^3:","^3>","~:z","~:c","^3?","^3@","~:h","^3D","~:b","^3E","~:t","^3G","^3I","^3J","^3N","^3K","^37","^3H","^2W","^3F"]],"^Z","A cljs version of the predict model, enhanced with radiotherapy and bisphosphonates, and extended to 15 years."]